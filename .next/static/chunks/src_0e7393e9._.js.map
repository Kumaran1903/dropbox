{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/kumar/OneDrive/Desktop/dropbox/src/lib/auth.js"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport Google from \"next-auth/providers/google\";\r\n\r\nexport const { handlers, signIn, signOut, auth } = NextAuth({\r\n  providers: [\r\n    Google({\r\n      clientId: process.env.GOOGLE_CLIENT_ID,\r\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\r\n    }),\r\n  ],\r\n});\r\n"],"names":[],"mappings":";;;;;;AAMgB;AANhB;AAAA;AACA;AAAA;;;AAEO,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,wJAAA,CAAA,UAAQ,AAAD,EAAE;IAC1D,WAAW;QACT,CAAA,GAAA,wJAAA,CAAA,UAAM,AAAD,EAAE;YACL,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,gBAAgB;YACtC,cAAc,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,oBAAoB;QAChD;KACD;AACH","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Dropbox/Dropbox.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"btn\": \"Dropbox-module__yByLYW__btn\",\n  \"dropzone\": \"Dropbox-module__yByLYW__dropzone\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/kumar/OneDrive/Desktop/dropbox/src/components/Dropbox/Dropbox.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { auth } from \"@/lib/auth\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport styles from \"./Dropbox.module.css\";\r\n\r\nexport const Dropbox = () => {\r\n  const [session, setSession] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // Fetch auth session\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      const userSession = await auth();\r\n      setSession(userSession);\r\n    };\r\n    fetchSession();\r\n  }, []);\r\n\r\n  const onDrop = useCallback(async (acceptedFiles) => {\r\n    if (acceptedFiles.length === 0) return;\r\n    setUploading(true);\r\n    setMessage(\"Uploading...\");\r\n\r\n    const file = acceptedFiles[0];\r\n    const presignedUrl =\r\n      \"https://mydropboxstorage.s3.eu-north-1.amazonaws.com/testfile.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Signature=2f31...\"; // Replace with dynamic URL if needed\r\n\r\n    try {\r\n      const response = await fetch(presignedUrl, {\r\n        method: \"PUT\",\r\n        body: file,\r\n        headers: { \"Content-Type\": file.type },\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage(\"✅ File uploaded successfully!\");\r\n      } else {\r\n        setMessage(\"❌ Upload failed. Try again.\");\r\n      }\r\n    } catch (error) {\r\n      setMessage(\"❌ Error uploading file.\");\r\n    }\r\n\r\n    setUploading(false);\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop,\r\n    multiple: false,\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {session?.user ? (\r\n        <div {...getRootProps()} className={styles.dropzone}>\r\n          <input {...getInputProps()} />\r\n          <p>Drag & drop a file here, or click to select one</p>\r\n          {uploading && <p>Uploading...</p>}\r\n          {message && <p>{message}</p>}\r\n        </div>\r\n      ) : (\r\n        <Link className={styles.btn} href={\"/login\"}>\r\n          <span>Sign up for free</span>\r\n          <Image src=\"/right_arrow.png\" height={25} width={25} alt=\"arrow\" />\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQO,MAAM,UAAU;;IACrB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,qBAAqB;IACrB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,MAAM;kDAAe;oBACnB,MAAM,cAAc,MAAM,CAAA,GAAA,qHAAA,CAAA,OAAI,AAAD;oBAC7B,WAAW;gBACb;;YACA;QACF;4BAAG,EAAE;IAEL,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uCAAE,OAAO;YAChC,IAAI,cAAc,MAAM,KAAK,GAAG;YAChC,aAAa;YACb,WAAW;YAEX,MAAM,OAAO,aAAa,CAAC,EAAE;YAC7B,MAAM,eACJ,oKAAoK,qCAAqC;YAE3M,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,cAAc;oBACzC,QAAQ;oBACR,MAAM;oBACN,SAAS;wBAAE,gBAAgB,KAAK,IAAI;oBAAC;gBACvC;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,WAAW;gBACb,OAAO;oBACL,WAAW;gBACb;YACF,EAAE,OAAO,OAAO;gBACd,WAAW;YACb;YAEA,aAAa;QACf;sCAAG,EAAE;IAEL,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,cAAW,AAAD,EAAE;QAClD;QACA,UAAU;IACZ;IAEA,qBACE,6LAAC;kBACE,SAAS,qBACR,6LAAC;YAAK,GAAG,cAAc;YAAE,WAAW,sJAAA,CAAA,UAAM,CAAC,QAAQ;;8BACjD,6LAAC;oBAAO,GAAG,eAAe;;;;;;8BAC1B,6LAAC;8BAAE;;;;;;gBACF,2BAAa,6LAAC;8BAAE;;;;;;gBAChB,yBAAW,6LAAC;8BAAG;;;;;;;;;;;iCAGlB,6LAAC,+JAAA,CAAA,UAAI;YAAC,WAAW,sJAAA,CAAA,UAAM,CAAC,GAAG;YAAE,MAAM;;8BACjC,6LAAC;8BAAK;;;;;;8BACN,6LAAC,gIAAA,CAAA,UAAK;oBAAC,KAAI;oBAAmB,QAAQ;oBAAI,OAAO;oBAAI,KAAI;;;;;;;;;;;;;;;;;AAKnE;GAhEa;;QA0C6B,2KAAA,CAAA,cAAW;;;KA1CxC","debugId":null}}]
}