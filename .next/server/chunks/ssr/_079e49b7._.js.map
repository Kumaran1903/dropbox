{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/my-files/files.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"files-module__uy1Iaa__button\",\n  \"container\": \"files-module__uy1Iaa__container\",\n  \"table\": \"files-module__uy1Iaa__table\",\n  \"td\": \"files-module__uy1Iaa__td\",\n  \"th\": \"files-module__uy1Iaa__th\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/kumar/OneDrive/Desktop/dropbox/src/app/my-files/page.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styles from \"./files.module.css\"; // Import CSS Module\r\n\r\nexport default function MyFiles() {\r\n  const [files, setFiles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchFiles() {\r\n      try {\r\n        const response = await fetch(\"/api/get-files\");\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          setFiles(data.files);\r\n        } else {\r\n          console.error(\"Error fetching files:\", data.error);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching files:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    fetchFiles();\r\n  }, []);\r\n\r\n  // âœ… Function to trigger file download\r\n  const downloadFile = async (file) => {\r\n    try {\r\n      const response = await fetch(file.url, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/octet-stream\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"File download failed\");\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = file.name; // Correct file name\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      a.remove();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error(\"Error downloading file:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h1>My Files</h1>\r\n\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : files.length === 0 ? (\r\n        <p>No files found.</p>\r\n      ) : (\r\n        <table className={styles.table}>\r\n          <thead>\r\n            <tr>\r\n              <th className={styles.th}>File Name</th>\r\n              <th className={styles.th}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {files.map((file) => (\r\n              <tr key={file.key}>\r\n                <td className={styles.td}>{file.name}</td>\r\n                <td className={styles.td}>\r\n                  <button\r\n                    onClick={() => downloadFile(file)}\r\n                    className={styles.button}\r\n                  >\r\n                    Download\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA,oPAAyC,oBAAoB;AAF7D;;;;AAIe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,IAAI,SAAS,EAAE,EAAE;oBACf,SAAS,KAAK,KAAK;gBACrB,OAAO;oBACL,QAAQ,KAAK,CAAC,yBAAyB,KAAK,KAAK;gBACnD;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;YACzC,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,sCAAsC;IACtC,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,KAAK,GAAG,EAAE;gBACrC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;YACvC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG,KAAK,IAAI,EAAE,oBAAoB;YAC5C,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YACP,EAAE,MAAM;YACR,OAAO,GAAG,CAAC,eAAe,CAAC;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,SAAS;;0BAC9B,8OAAC;0BAAG;;;;;;YAEH,wBACC,8OAAC;0BAAE;;;;;uBACD,MAAM,MAAM,KAAK,kBACnB,8OAAC;0BAAE;;;;;qCAEH,8OAAC;gBAAM,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;;kCAC5B,8OAAC;kCACC,cAAA,8OAAC;;8CACC,8OAAC;oCAAG,WAAW,8IAAA,CAAA,UAAM,CAAC,EAAE;8CAAE;;;;;;8CAC1B,8OAAC;oCAAG,WAAW,8IAAA,CAAA,UAAM,CAAC,EAAE;8CAAE;;;;;;;;;;;;;;;;;kCAG9B,8OAAC;kCACE,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;;kDACC,8OAAC;wCAAG,WAAW,8IAAA,CAAA,UAAM,CAAC,EAAE;kDAAG,KAAK,IAAI;;;;;;kDACpC,8OAAC;wCAAG,WAAW,8IAAA,CAAA,UAAM,CAAC,EAAE;kDACtB,cAAA,8OAAC;4CACC,SAAS,IAAM,aAAa;4CAC5B,WAAW,8IAAA,CAAA,UAAM,CAAC,MAAM;sDACzB;;;;;;;;;;;;+BANI,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;AAiB/B","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/kumar/OneDrive/Desktop/dropbox/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}}]
}